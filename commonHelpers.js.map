{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      const selectedDate = selectedDates[0];\n      const currentDate = new Date();\n  \n      if (selectedDate < currentDate) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Please choose a date in the future',\n        });\n        document.querySelector('[data-start]').disabled = true;\n      } else {\n        document.querySelector('[data-start]').disabled = false;\n      }\n    },\n  };\n  \n  flatpickr(\"#datetime-picker\", options);\n  \n  function startTimer(endDate) {\n    const timerInterval = setInterval(() => {\n      const currentTime = new Date();\n      const timeDifference = endDate - currentTime;\n  \n      if (timeDifference <= 0) {\n        clearInterval(timerInterval);\n        updateTimerUI({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n        return;\n      }\n  \n      const { days, hours, minutes, seconds } = convertMs(timeDifference);\n      updateTimerUI({ days, hours, minutes, seconds });\n    }, 1000);\n  }\n  \n  function updateTimerUI({ days, hours, minutes, seconds }) {\n    document.querySelector('[data-days]').textContent = addLeadingZero(days);\n    document.querySelector('[data-hours]').textContent = addLeadingZero(hours);\n    document.querySelector('[data-minutes]').textContent = addLeadingZero(minutes);\n    document.querySelector('[data-seconds]').textContent = addLeadingZero(seconds);\n  }\n  \n  function addLeadingZero(value) {\n    return value < 10 ? `0${value}` : value;\n  }\n  \n  document.querySelector('[data-start]').addEventListener('click', () => {\n    const selectedDate = new Date(flatpickr.parseDate(document.querySelector(\"#datetime-picker\").value));\n    document.querySelector('[data-start]').disabled = true;\n    document.querySelector(\"#datetime-picker\").disabled = true;\n    startTimer(selectedDate);\n  });"],"names":["options","selectedDates","flatpickr","startTimer","endDate","timerInterval","timeDifference","updateTimerUI","days","hours","minutes","seconds","addLeadingZero","value","selectedDate"],"mappings":"svBAIA,MAAMA,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACAA,EAAc,CAAC,EAChB,IAAI,MAGtB,SAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACnB,CAAS,EACD,SAAS,cAAc,cAAc,EAAE,SAAW,IAElD,SAAS,cAAc,cAAc,EAAE,SAAW,EAErD,CACL,EAEEC,EAAU,mBAAoBF,CAAO,EAErC,SAASG,EAAWC,EAAS,CAC3B,MAAMC,EAAgB,YAAY,IAAM,CAEtC,MAAMC,EAAiBF,EADH,IAAI,KAGxB,GAAIE,GAAkB,EAAG,CACvB,cAAcD,CAAa,EAC3BE,EAAc,CAAE,KAAM,EAAG,MAAO,EAAG,QAAS,EAAG,QAAS,CAAC,CAAE,EAC3D,MACD,CAED,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAY,UAAUL,CAAc,EAClEC,EAAc,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,CAAA,CAChD,EAAE,GAAI,CACR,CAED,SAASJ,EAAc,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACxD,SAAS,cAAc,aAAa,EAAE,YAAcC,EAAeJ,CAAI,EACvE,SAAS,cAAc,cAAc,EAAE,YAAcI,EAAeH,CAAK,EACzE,SAAS,cAAc,gBAAgB,EAAE,YAAcG,EAAeF,CAAO,EAC7E,SAAS,cAAc,gBAAgB,EAAE,YAAcE,EAAeD,CAAO,CAC9E,CAED,SAASC,EAAeC,EAAO,CAC7B,OAAOA,EAAQ,GAAK,IAAIA,CAAK,GAAKA,CACnC,CAED,SAAS,cAAc,cAAc,EAAE,iBAAiB,QAAS,IAAM,CACrE,MAAMC,EAAe,IAAI,KAAKZ,EAAU,UAAU,SAAS,cAAc,kBAAkB,EAAE,KAAK,CAAC,EACnG,SAAS,cAAc,cAAc,EAAE,SAAW,GAClD,SAAS,cAAc,kBAAkB,EAAE,SAAW,GACtDC,EAAWW,CAAY,CAC3B,CAAG"}